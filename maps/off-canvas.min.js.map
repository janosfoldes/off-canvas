{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/off-canvas.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","overlay","$","togglerDefault","togglerNoAnim","togglerOpen","OffCanvas","element","_this","this","_classCallCheck","_offCanvas","_button","attr","_buttonToggler","closeId","_closeEl","document","getElementById","undefined","_locks","lockIds","stringToArray","push","refresh","close","bind","open","window","resize","onResize","on","onOverlayClick","onButtonClick","str","trim","indexOf","split","lenght","toggle","removeClass","addClass","isButtonVisible","is","_isButtonVisible","toggleClass","state","hasClass","offCanvases","ready","appendTo","body","each","index","item"],"mappings":"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","file":"../dist/off-canvas.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// OFF-CANVAS\r\n// ==========\r\n\r\nconst attrClose           = 'data-close';\r\nconst attrOffCanvas       = 'data-off-canvas';\r\nconst attrOffCanvasButton = 'data-off-canvas-button';\r\nconst attrOffCanvasLock   = 'data-off-canvas-lock';\r\nconst attrToggler         = 'data-toggler';\r\nconst overlay             = $('<div class=\"canvas-overlay\"></div>');\r\nconst togglerClosed       = 'is-closed';\r\nconst togglerDefault      = 'is-active';\r\nconst togglerLocked       = 'is-locked';\r\nconst togglerNoAnim       = 'no-anim';\r\nconst togglerOpen         = 'is-open';\r\nconst togglerVisible      = 'is-visible';\r\n\r\n// Off-Canvas\r\n// ----------\r\n\r\nexport default class OffCanvas {\r\n    constructor(element) {\r\n        /* Initialize */\r\n        this._offCanvas = $(element);\r\n        this._button = $('#' + this._offCanvas.attr(attrOffCanvasButton));\r\n        this._buttonToggler = this._button.attr(attrToggler) || togglerDefault;\r\n\r\n        /* Initialize object to close */\r\n        let closeId = this._offCanvas.attr(attrClose);\r\n        this._closeEl = (closeId) ? document.getElementById(closeId) : undefined;\r\n\r\n        /* Locks */\r\n        this._locks = []\r\n        let lockIds = OffCanvas.stringToArray(this._offCanvas.attr(attrOffCanvasLock));\r\n        for (let i = 0; i < lockIds.length; i++) {\r\n            this._locks.push($('#' + lockIds[i]));\r\n        }\r\n\r\n        /* Refresh */\r\n        this.refresh();\r\n\r\n        /* Attach methods to the DOM Element of this off-canvas */\r\n        element.close = this.close.bind(this);\r\n        element.open = this.open.bind(this);\r\n\r\n        /* Events */\r\n        $(window).resize((e) => { this.onResize(e) });\r\n        overlay.on('click', (e) => { this.onOverlayClick(e) });\r\n        this._button.on('click', (e) => { this.onButtonClick(e) });\r\n    }\r\n\r\n    close() {\r\n        this.toggle(false);\r\n    }\r\n\r\n    onButtonClick(e) {\r\n        this._offCanvas.removeClass(togglerNoAnim);\r\n        this.toggle();\r\n    }\r\n\r\n    onOverlayClick(e) {\r\n        this.toggle(false);\r\n    }\r\n\r\n    onResize(e) {\r\n         this.refresh();\r\n    }\r\n\r\n    open() {\r\n        this.toggle(true);\r\n    }\r\n\r\n    refresh() {\r\n        this._offCanvas.addClass(togglerNoAnim);\r\n        let isButtonVisible = this._button.is(':visible');\r\n        if (isButtonVisible != this._isButtonVisible) { // State changed\r\n            this._offCanvas.toggleClass(togglerDefault, isButtonVisible);\r\n            this.toggle(false);\r\n            this._isButtonVisible = isButtonVisible;\r\n        }\r\n    }\r\n\r\n    static stringToArray(str) {\r\n        let a = [];\r\n        if (typeof str === 'string') {\r\n            str = str.trim();\r\n            if (str != '') {\r\n                a = (str.indexOf(',') > -1) ? str.split(/,/) : str.split(/ /);\r\n                for (let i=0; i < a.lenght; i++) a[i] = a[i].trim();\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n\r\n    toggle(state) {\r\n        if (state == undefined) state = !this._offCanvas.hasClass(togglerOpen);\r\n        this._button.toggleClass(this._buttonToggler, state);\r\n        this._offCanvas.toggleClass(togglerOpen, state);\r\n        this._offCanvas.toggleClass(togglerClosed, !state);\r\n        overlay.toggleClass(togglerVisible, state);\r\n        if (state && this._closeEl != undefined) {\r\n            this._closeEl.close();\r\n        }\r\n        for (let i = 0; i < this._locks.length; i++) {\r\n            this._locks[i].toggleClass(togglerLocked, state)\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize canvas overlay and elements with 'data-off-canvas' attribute\r\n// -----------------------------------------------------------------------\r\n\r\nlet offCanvases = [];\r\n$(document).ready(() => {\r\n    overlay.appendTo(document.body);\r\n    $('[' + attrOffCanvas + ']').each((index, item) => {\r\n        offCanvases.push(new OffCanvas(item));\r\n    });\r\n});\r\n"]}